/**
 * amis-core v2.7.2
 * Copyright 2018-2023 fex
 */

import { __rest } from 'tslib';
import { useState } from 'react';
import useRootClose from 'react-overlays/useRootClose';
import { findDOMNode } from 'react-dom';

/**
 * 兼容之前的 RootCloseWrapper 写法
 */
var RootClose = function (_a) {
    var children = _a.children, onRootClose = _a.onRootClose, props = __rest(_a, ["children", "onRootClose"]);
    var _b = useState(null), rootComponent = _b[0], attachRef = _b[1];
    var rootElement = findDOMNode(rootComponent);
    useRootClose(rootElement, onRootClose, props);
    return typeof children === 'function' ? children(attachRef) : children;
};

export { RootClose };
