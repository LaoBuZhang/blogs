/**
 * amis-formula v2.7.2
 * Copyright 2021-2023 fex
 */

import { Evaluator } from './evalutor.js';
export { Evaluator } from './evalutor.js';
import { parse } from './parser.js';
export { parse } from './parser.js';
export { lexer } from './lexer.js';
import { getFilters } from './filter.js';
export { extendsFilters, filters, getFilters, registerFilter } from './filter.js';
export { registerFunction } from './function.js';

function evaluate(astOrString, data, options) {
    var ast = astOrString;
    if (typeof astOrString === 'string') {
        ast = parse(astOrString, options);
    }
    return new Evaluator(data, options).evalute(ast);
}
Evaluator.setDefaultFilters(getFilters());

export { evaluate };
