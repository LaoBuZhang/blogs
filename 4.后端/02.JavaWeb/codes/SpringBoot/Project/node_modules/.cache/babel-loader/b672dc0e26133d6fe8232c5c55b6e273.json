{"remainingRequest":"E:\\codes\\JavaWeb\\SpringBoot\\Project\\node_modules\\_babel-loader@8.2.5@babel-loader\\lib\\index.js!E:\\codes\\JavaWeb\\SpringBoot\\Project\\src\\axios.js","dependencies":[{"path":"E:\\codes\\JavaWeb\\SpringBoot\\Project\\src\\axios.js","mtime":1603170810000},{"path":"E:\\codes\\JavaWeb\\SpringBoot\\Project\\babel.config.js","mtime":1603170810000},{"path":"E:\\codes\\JavaWeb\\SpringBoot\\Project\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\codes\\JavaWeb\\SpringBoot\\Project\\node_modules\\_babel-loader@8.2.5@babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MSI7IC8vIOWJjee9ruaLpuaIqgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICByZXR1cm4gY29uZmlnOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT0iKTsKICBjb25zb2xlLmxvZyhyZXMpOwogIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PSIpOwoKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0gZWxzZSB7CiAgICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoJ+mUmeS6huWTpu+8jOi/meaYr+S4gOadoemUmeivr+a2iOaBrycsIHsKICAgICAgZHVyYXRpb246IDMgKiAxMDAwCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZS5kYXRhLm1zZyk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CgogIGlmIChlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICBlcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tc2c7CiAgfQoKICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgIHN0b3JlLmNvbW1pdCgiUkVNT1ZFX0lORk8iKTsKICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICB9CgogIEVsZW1lbnQuTWVzc2FnZS5lcnJvcihlcnJvci5tZXNzYWdlLCB7CiAgICBkdXJhdGlvbjogMyAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTs="},{"version":3,"names":["axios","Element","router","store","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","Message","error","duration","Promise","reject","msg","message","status","commit","push"],"sources":["E:/codes/JavaWeb/SpringBoot/Project/src/axios.js"],"sourcesContent":["import axios from 'axios'\nimport Element from 'element-ui'\nimport router from './router'\nimport store from './store'\n\n\naxios.defaults.baseURL = \"http://localhost:8081\"\n\n// 前置拦截\naxios.interceptors.request.use(config => {\n  return config\n})\n\naxios.interceptors.response.use(response => {\n    let res = response.data;\n\n    console.log(\"=================\")\n    console.log(res)\n    console.log(\"=================\")\n\n    if (res.code === 200) {\n      return response\n    } else {\n\n      Element.Message.error('错了哦，这是一条错误消息', {duration: 3 * 1000})\n\n      return Promise.reject(response.data.msg)\n    }\n  },\n  error => {\n    console.log(error)\n    if(error.response.data) {\n      error.message = error.response.data.msg\n    }\n\n    if(error.response.status === 401) {\n      store.commit(\"REMOVE_INFO\")\n      router.push(\"/login\")\n    }\n\n    Element.Message.error(error.message, {duration: 3 * 1000})\n    return Promise.reject(error)\n  }\n)"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAGAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;EACvC,OAAOA,MAAP;AACD,CAFD;AAIAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;EACxC,IAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;EAEAC,OAAO,CAACC,GAAR,CAAY,mBAAZ;EACAD,OAAO,CAACC,GAAR,CAAYH,GAAZ;EACAE,OAAO,CAACC,GAAR,CAAY,mBAAZ;;EAEA,IAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;IACpB,OAAOL,QAAP;EACD,CAFD,MAEO;IAELT,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsB,cAAtB,EAAsC;MAACC,QAAQ,EAAE,IAAI;IAAf,CAAtC;IAEA,OAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACE,IAAT,CAAcS,GAA7B,CAAP;EACD;AACF,CAfH,EAgBE,UAAAJ,KAAK,EAAI;EACPJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;;EACA,IAAGA,KAAK,CAACP,QAAN,CAAeE,IAAlB,EAAwB;IACtBK,KAAK,CAACK,OAAN,GAAgBL,KAAK,CAACP,QAAN,CAAeE,IAAf,CAAoBS,GAApC;EACD;;EAED,IAAGJ,KAAK,CAACP,QAAN,CAAea,MAAf,KAA0B,GAA7B,EAAkC;IAChCpB,KAAK,CAACqB,MAAN,CAAa,aAAb;IACAtB,MAAM,CAACuB,IAAP,CAAY,QAAZ;EACD;;EAEDxB,OAAO,CAACe,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACK,OAA5B,EAAqC;IAACJ,QAAQ,EAAE,IAAI;EAAf,CAArC;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACD,CA7BH"}]}